<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
        content="width=device-width,initial-scale=1.0">
        <title>Retrieve pixel data from the canvas</title>
        <style>
            canvas{
               border:  1 px solid black ;
            }
            </style>
    </head>
    <body>
        <h1>retrive pixel data from the canvas</h1>
        <h2>result</h2>
        <canvas id ="mycanvas"width="200"height="200"></canvas>
    
        <script>
            const canvas=
            document.getElementById('mycanvas');
            const ctx = canvas. getContext('2d');
            // draw a rectangle on the canvas
            ctx.fillStyle = 'red';
            ctx.fillRect(10,10,100,100);
            //retrive pixel data
            const imageData = ctx.getImageData(0,0,canvas.width,canvas.height);
            const data = imageData.data; //pixel data as an array
            //Browse pixel data 
            for (let i = 0; i<data.length; i+=4){
                const r = data [i];
                const g = data[i+1];
                const b = data[i+2];
                const a = data[i+3]  ;
                //you can now manipulate the values as you wish
                console.log ('pixel ${i/4} - R: ${r}, G: ${g}, B: ${b}, A: ${a}');
                         
            }
            </script>
    </body>
</html>
